{"ast":null,"code":"var _jsxFileName = \"/Users/allisonchen/Desktop/filmdiary/client/src/components/moviePage/moviePage.js\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport Spinner from \"../spinner/spinner\";\nimport noPoster from '../../images/noPoster.png';\nimport clock from '../../images/clock.png';\nimport star from '../../images/star.png';\nimport FavButton from \"../favButton/favButton\";\nimport { Row, Col, Image, Container } from 'react-bootstrap';\nimport './moviePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apikey = \"37e7a5cb2b4f66257a0b6632a59060a5\";\nconst POSTER_SIZE = 'w500/';\nclass MoviePage extends Component {\n  constructor(props) {\n    super(props);\n    this.getData = () => {\n      //const URL = this.state.server+`/api/movies/getmovie/${this.state.ID}`\n      const URL = \"https://api.themoviedb.org/3/genre/movie/list?api_key=\" + apikey + \"&language=en-US\";\n      axios.get(URL).then(response => {\n        let myGenres = '';\n        for (let i = 0; i < response.data.genres.length - 1; i++) {\n          myGenres += response.data.genres[i].name + ', ';\n        }\n        myGenres += response.data.genres[response.data.genres.length - 1].name;\n        this.setState({\n          data: response.data,\n          genres: myGenres\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n    this.componentDidMount = () => {\n      this.setState({\n        ID: this.props.match.params.id,\n        isFav: this.props.location.state.isFav\n      }, () => {\n        this.getData();\n      });\n    };\n    this.state = {\n      ID: -1,\n      data: null,\n      isFav: false,\n      imgLoaded: false,\n      server: process.env.REACT_APP_SERVER_URL || ''\n    };\n  }\n  render() {\n    if (this.state.data) {\n      let poster_url;\n      this.state.data.poster_path == null ? poster_url = noPoster : poster_url = 'https://image.tmdb.org/t/p/' + POSTER_SIZE + this.state.data.poster_path;\n      return /*#__PURE__*/_jsxDEV(Container, {\n        fluid: \"lg\",\n        className: \"text-center movie\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          xl: 2,\n          lg: 1,\n          md: 1,\n          sm: 1,\n          xs: 1,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            id: \"img\",\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              thumbnail: true,\n              src: poster_url,\n              fluid: true,\n              className: \"tile-img\",\n              onLoad: () => this.setState({\n                imgLoaded: true\n              }),\n              style: this.state.imgLoaded ? {} : {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            id: \"info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"title\",\n              children: this.state.data.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"title\",\n              children: this.state.data.overview\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"title\",\n              children: this.state.genres\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                className: \"inline-pic\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: clock,\n                    alt: \"clock\",\n                    style: {\n                      height: '2.0em'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 46\n                  }, this), \" \", parseInt(this.state.data.runtime / 60), \":\", this.state.data.runtime % 60]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                className: \"inline-pic\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: star,\n                    alt: \"star\",\n                    style: {\n                      height: '2.0em'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 46\n                  }, this), \" \", this.state.data.vote_average.toFixed(1), \"/10\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-grid gap-2\",\n                  children: /*#__PURE__*/_jsxDEV(FavButton, {\n                    isFav: this.state.isFav,\n                    id: this.state.ID\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 46\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 20\n      }, this);\n    }\n  }\n}\nexport default MoviePage;","map":{"version":3,"names":["Component","axios","Spinner","noPoster","clock","star","FavButton","Row","Col","Image","Container","jsxDEV","_jsxDEV","apikey","POSTER_SIZE","MoviePage","constructor","props","getData","URL","get","then","response","myGenres","i","data","genres","length","name","setState","catch","err","console","log","componentDidMount","ID","match","params","id","isFav","location","state","imgLoaded","server","process","env","REACT_APP_SERVER_URL","render","poster_url","poster_path","fluid","className","children","xl","lg","md","sm","xs","thumbnail","src","onLoad","style","display","fileName","_jsxFileName","lineNumber","columnNumber","title","overview","alt","height","parseInt","runtime","vote_average","toFixed"],"sources":["/Users/allisonchen/Desktop/filmdiary/client/src/components/moviePage/moviePage.js"],"sourcesContent":["import { Component } from \"react\";\nimport axios from \"axios\";\nimport Spinner from \"../spinner/spinner\";\nimport noPoster from '../../images/noPoster.png'\nimport clock from '../../images/clock.png'\nimport star from '../../images/star.png'\nimport FavButton from \"../favButton/favButton\";\nimport { Row, Col, Image, Container } from 'react-bootstrap';\nimport './moviePage.css'\n\nconst apikey = \"37e7a5cb2b4f66257a0b6632a59060a5\";\n\nconst POSTER_SIZE = 'w500/'\n\nclass MoviePage extends Component{\n    constructor(props) {\n        super(props)\n        this.state = {\n            ID: -1,\n            data: null,\n            isFav: false,\n            imgLoaded: false,\n            server: process.env.REACT_APP_SERVER_URL || ''\n        }\n    }\n\n    getData = () =>{\n        //const URL = this.state.server+`/api/movies/getmovie/${this.state.ID}`\n        const URL = \"https://api.themoviedb.org/3/genre/movie/list?api_key=\"+ apikey +\"&language=en-US\"\n\n        axios.get(URL)\n        .then((response) => {\n            let myGenres = ''\n            for (let i = 0; i < response.data.genres.length-1; i++) {\n                myGenres += response.data.genres[i].name + ', '\n            }\n            myGenres += response.data.genres[response.data.genres.length-1].name\n            \n            this.setState({\n                data: response.data,\n                genres: myGenres\n            })\n        })\n        .catch(err =>{\n            console.log(err)\n        });\n    }\n\n    componentDidMount = () =>{\n        this.setState({\n            ID: this.props.match.params.id,\n            isFav: this.props.location.state.isFav\n        }, () => {\n            this.getData()\n        })\n    }\n\n    render(){\n        if (this.state.data){\n\n            let poster_url\n            (this.state.data.poster_path == null) ? poster_url= noPoster : poster_url = 'https://image.tmdb.org/t/p/'+POSTER_SIZE + this.state.data.poster_path\n\n            return(\n                <Container fluid='lg' className='text-center movie'>\n                    <Row xl={2} lg={1} md={1} sm={1} xs={1}>\n                            <Col id='img'>\n                                <Image \n                                    thumbnail\n                                    src={poster_url} \n                                    fluid className='tile-img' \n                                    onLoad={() => this.setState({imgLoaded: true})}\n                                    style={this.state.imgLoaded ? {} : {display: 'none'}}\n                                />\n                            </Col>\n                            <Col id='info'>\n                                <h1 className=\"title\">{this.state.data.title}</h1>\n                                <br/>\n                                <h4 className=\"title\">{this.state.data.overview}</h4>\n                                <br/>\n                                <h4 className=\"title\">{this.state.genres}</h4>\n                                <br/>\n                                <Row>\n                                    <Col sm={3} className='inline-pic'>\n                                        <h5> <img src={clock} alt='clock' style={{height: '2.0em'}}/> {parseInt(this.state.data.runtime/60)}:{this.state.data.runtime%60}</h5>\n                                    </Col>\n                                    <Col sm={3} className='inline-pic'>\n                                        <h5> <img src={star} alt='star' style={{height: '2.0em'}}/> {this.state.data.vote_average.toFixed(1)}/10</h5>\n                                    </Col>\n                                    <Col sm={6}>\n                                        <div className=\"d-grid gap-2\">\n                                            {<FavButton isFav={this.state.isFav} id={this.state.ID}/>}\n                                        </div>\n                                    </Col>\n                                </Row>\n                            </Col>\n                     </Row>\n                </Container>\n            )\n        }\n        else{\n            return(<Spinner/>)\n        }\n        \n    }\n}\n\nexport default MoviePage"],"mappings":"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"},"metadata":{},"sourceType":"module"}