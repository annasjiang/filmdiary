{"ast":null,"code":"var _jsxFileName = \"/Users/allisonchen/Desktop/filmdiary/client/src/components/logout.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport { auth, db, logout } from \"./firebase\";\nimport { query, collection, getDocs, where } from \"firebase/firestore\";\nimport \"./logout.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [user, loading, error] = useAuthState(auth);\n  const [name, setName] = useState(\"\");\n  const navigate = useNavigate();\n  const fetchUserName = async () => {\n    try {\n      const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user === null || user === void 0 ? void 0 : user.uid));\n      const doc = await getDocs(q);\n      const data = doc.docs[0].data();\n      setName(data.name);\n    } catch (err) {\n      console.error(err);\n      alert(\"An error occured while fetching user data\");\n    }\n  };\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n    fetchUserName();\n  }, [user, loading]);\n  return (\n    /*#__PURE__*/\n    // <div className=\"dashboard\">\n    //    <div className=\"dashboard__container\">\n    //     are you sure you want to log out,\n    //      <div>{name}</div>\n    //      <button className=\"dashboard__btn\" onClick={logout}>\n    //       Logout\n    //      </button>\n    //    </div>\n    //  </div>\n    _jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            m: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(LockPersonIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          children: [\"are you sure you want to log out, \", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          noValidate: true,\n          sx: {\n            mt: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            sx: {\n              mt: 3,\n              mb: 2\n            },\n            variant: \"contained\",\n            color: \"success\",\n            onClick: () => {\n              logout;\n            },\n            children: \"LOG OUT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(Dashboard, \"uRyN7LcI9N/Hvip+FzXkom5uuDk=\", false, function () {\n  return [useAuthState, useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useAuthState","useNavigate","auth","db","logout","query","collection","getDocs","where","jsxDEV","_jsxDEV","Dashboard","_s","user","loading","error","name","setName","navigate","fetchUserName","q","uid","doc","data","docs","err","console","alert","Container","component","maxWidth","children","CssBaseline","fileName","_jsxFileName","lineNumber","columnNumber","Box","sx","marginTop","display","flexDirection","alignItems","Avatar","m","LockPersonIcon","Typography","variant","noValidate","mt","Button","fullWidth","mb","color","onClick","_c","$RefreshReg$"],"sources":["/Users/allisonchen/Desktop/filmdiary/client/src/components/logout.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { auth, db, logout } from \"./firebase\";\nimport { query, collection, getDocs, where } from \"firebase/firestore\";\n\nimport \"./logout.css\";\n\nfunction Dashboard() {\n  const [user, loading, error] = useAuthState(auth);\n  const [name, setName] = useState(\"\");\n  const navigate = useNavigate();\n  const fetchUserName = async () => {\n    try {\n      const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user?.uid));\n      const doc = await getDocs(q);\n      const data = doc.docs[0].data();\n      setName(data.name);\n    } catch (err) {\n      console.error(err);\n      alert(\"An error occured while fetching user data\");\n    }\n  };\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n    fetchUserName();\n  }, [user, loading]);\n  return (\n    // <div className=\"dashboard\">\n    //    <div className=\"dashboard__container\">\n    //     are you sure you want to log out,\n    //      <div>{name}</div>\n    //      <button className=\"dashboard__btn\" onClick={logout}>\n    //       Logout\n    //      </button>\n    //    </div>\n    //  </div>\n    <Container component=\"main\" maxWidth=\"xs\">\n    <CssBaseline />\n    <Box\n      sx={{\n        marginTop: 8,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n      }}\n    >\n      <Avatar sx={{ m: 3}}>\n        <LockPersonIcon />\n      </Avatar>\n      <Typography component=\"h1\" variant=\"h5\">\n      are you sure you want to log out, <div>{name}</div>\n      </Typography>\n      <Box component=\"form\" noValidate sx={{ mt: 1 }}>\n        <Button\n          fullWidth\n          sx={{ mt: 3, mb: 2 }}\n          variant=\"contained\"\n          color=\"success\"\n          onClick={() => {logout}}>\n          LOG OUT\n        </Button>\n      </Box>\n    </Box>\n  </Container>\n  );\n}\nexport default Dashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}