{"ast":null,"code":"var _jsxFileName = \"/Users/allisonchen/Desktop/filmdiary/client/src/components/moviePage/moviePage.js\";\nimport { Component } from \"react\";\nimport axios from \"axios\";\nimport Spinner from \"../spinner/spinner\";\nimport noPoster from '../../images/noPoster.png';\nimport clock from '../../images/clock.png';\nimport star from '../../images/star.png';\nimport FavButton from \"../favButton/favButton\";\nimport { Row, Col, Image, Container } from 'react-bootstrap';\nimport './moviePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst POSTER_SIZE = 'w500/';\nclass MoviePage extends Component {\n  constructor(props) {\n    super(props);\n    this.getData = () => {\n      const URL = this.state.server + `/api/movies/getmovie/${this.state.ID}`;\n      axios.get(URL).then(response => {\n        let myGenres = '';\n        for (let i = 0; i < response.data.genres.length - 1; i++) {\n          myGenres += response.data.genres[i].name + ', ';\n        }\n        myGenres += response.data.genres[response.data.genres.length - 1].name;\n        this.setState({\n          data: response.data,\n          genres: myGenres\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n    this.componentDidMount = () => {\n      this.setState({\n        ID: this.props.match.params.id,\n        isFav: this.props.location.state.isFav\n      }, () => {\n        this.getData();\n      });\n    };\n    this.state = {\n      ID: -1,\n      data: null,\n      isFav: false,\n      imgLoaded: false,\n      server: process.env.REACT_APP_SERVER_URL || ''\n    };\n  }\n  render() {\n    if (this.state.data) {\n      let poster_url;\n      this.state.data.poster_path == null ? poster_url = noPoster : poster_url = 'https://image.tmdb.org/t/p/' + POSTER_SIZE + this.state.data.poster_path;\n      return /*#__PURE__*/_jsxDEV(Container, {\n        fluid: \"lg\",\n        className: \"text-center movie\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          xl: 2,\n          lg: 1,\n          md: 1,\n          sm: 1,\n          xs: 1,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            id: \"img\",\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              thumbnail: true,\n              src: poster_url,\n              fluid: true,\n              className: \"tile-img\",\n              onLoad: () => this.setState({\n                imgLoaded: true\n              }),\n              style: this.state.imgLoaded ? {} : {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            id: \"info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"title\",\n              children: this.state.data.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"title\",\n              children: this.state.data.overview\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"title\",\n              children: this.state.genres\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                className: \"inline-pic\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: clock,\n                    alt: \"clock\",\n                    style: {\n                      height: '2.0em'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 46\n                  }, this), \" \", parseInt(this.state.data.runtime / 60), \":\", this.state.data.runtime % 60]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                className: \"inline-pic\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: star,\n                    alt: \"star\",\n                    style: {\n                      height: '2.0em'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 46\n                  }, this), \" \", this.state.data.vote_average.toFixed(1), \"/10\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-grid gap-2\",\n                  children: /*#__PURE__*/_jsxDEV(FavButton, {\n                    isFav: this.state.isFav,\n                    id: this.state.ID\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 46\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 20\n      }, this);\n    }\n  }\n}\nexport default MoviePage;","map":{"version":3,"names":["Component","axios","Spinner","noPoster","clock","star","FavButton","Row","Col","Image","Container","jsxDEV","_jsxDEV","POSTER_SIZE","MoviePage","constructor","props","getData","URL","state","server","ID","get","then","response","myGenres","i","data","genres","length","name","setState","catch","err","console","log","componentDidMount","match","params","id","isFav","location","imgLoaded","process","env","REACT_APP_SERVER_URL","render","poster_url","poster_path","fluid","className","children","xl","lg","md","sm","xs","thumbnail","src","onLoad","style","display","fileName","_jsxFileName","lineNumber","columnNumber","title","overview","alt","height","parseInt","runtime","vote_average","toFixed"],"sources":["/Users/allisonchen/Desktop/filmdiary/client/src/components/moviePage/moviePage.js"],"sourcesContent":["import { Component } from \"react\";\nimport axios from \"axios\";\nimport Spinner from \"../spinner/spinner\";\nimport noPoster from '../../images/noPoster.png'\nimport clock from '../../images/clock.png'\nimport star from '../../images/star.png'\nimport FavButton from \"../favButton/favButton\";\nimport { Row, Col, Image, Container } from 'react-bootstrap';\nimport './moviePage.css'\n\nconst POSTER_SIZE = 'w500/'\n\nclass MoviePage extends Component{\n    constructor(props) {\n        super(props)\n        this.state = {\n            ID: -1,\n            data: null,\n            isFav: false,\n            imgLoaded: false,\n            server: process.env.REACT_APP_SERVER_URL || ''\n        }\n    }\n\n    getData = () =>{\n        const URL = this.state.server+`/api/movies/getmovie/${this.state.ID}`\n\n        axios.get(URL)\n        .then((response) => {\n            let myGenres = ''\n            for (let i = 0; i < response.data.genres.length-1; i++) {\n                myGenres += response.data.genres[i].name + ', '\n            }\n            myGenres += response.data.genres[response.data.genres.length-1].name\n            \n            this.setState({\n                data: response.data,\n                genres: myGenres\n            })\n        })\n        .catch(err =>{\n            console.log(err)\n        });\n    }\n\n    componentDidMount = () =>{\n        this.setState({\n            ID: this.props.match.params.id,\n            isFav: this.props.location.state.isFav\n        }, () => {\n            this.getData()\n        })\n    }\n\n    render(){\n        if (this.state.data){\n\n            let poster_url\n            (this.state.data.poster_path == null) ? poster_url= noPoster : poster_url = 'https://image.tmdb.org/t/p/'+POSTER_SIZE + this.state.data.poster_path\n\n            return(\n                <Container fluid='lg' className='text-center movie'>\n                    <Row xl={2} lg={1} md={1} sm={1} xs={1}>\n                            <Col id='img'>\n                                <Image \n                                    thumbnail\n                                    src={poster_url} \n                                    fluid className='tile-img' \n                                    onLoad={() => this.setState({imgLoaded: true})}\n                                    style={this.state.imgLoaded ? {} : {display: 'none'}}\n                                />\n                            </Col>\n                            <Col id='info'>\n                                <h1 className=\"title\">{this.state.data.title}</h1>\n                                <br/>\n                                <h4 className=\"title\">{this.state.data.overview}</h4>\n                                <br/>\n                                <h4 className=\"title\">{this.state.genres}</h4>\n                                <br/>\n                                <Row>\n                                    <Col sm={3} className='inline-pic'>\n                                        <h5> <img src={clock} alt='clock' style={{height: '2.0em'}}/> {parseInt(this.state.data.runtime/60)}:{this.state.data.runtime%60}</h5>\n                                    </Col>\n                                    <Col sm={3} className='inline-pic'>\n                                        <h5> <img src={star} alt='star' style={{height: '2.0em'}}/> {this.state.data.vote_average.toFixed(1)}/10</h5>\n                                    </Col>\n                                    <Col sm={6}>\n                                        <div className=\"d-grid gap-2\">\n                                            {<FavButton isFav={this.state.isFav} id={this.state.ID}/>}\n                                        </div>\n                                    </Col>\n                                </Row>\n                            </Col>\n                     </Row>\n                </Container>\n            )\n        }\n        else{\n            return(<Spinner/>)\n        }\n        \n    }\n}\n\nexport default MoviePage"],"mappings":"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"},"metadata":{},"sourceType":"module"}