{"ast":null,"code":"var _jsxFileName = \"/Users/allisonchen/Desktop/filmdiary/client/src/components/search/search.js\";\n// import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\n// import axios from 'axios';\n// import { Grid } from \"@material-ui/core\";\n\n// const apikey = \"37e7a5cb2b4f66257a0b6632a59060a5\";\n\n// export default class Search extends Component {\n\n// \tconstructor(props) {\n// \t\tsuper(props);\n\n// \t\tthis.onChangeSearchValue = this.onChangeSearchValue.bind(this);\n// \t\tthis.onSubmit = this.onSubmit.bind(this);\n// \t\tthis.getMovieSearch = this.getMovieSearch.bind(this);\n// \t\tthis.moreInfo = this.moreInfo.bind(this);\n// \t\tthis.getGenres = this.getGenres.bind(this);\n\n// \t\tthis.state = {\n// \t\t\tsearch_value: '',\n// \t\t\tsearch_results: [],\n// \t\t}\n// \t}\n\n// \tgenres;\n\n// \tasync getGenres() {\n// \t\tvar genreList = [];\n// \t\tawait fetch(\"https://api.themoviedb.org/3/genre/movie/list?api_key=\"+ apikey +\"&language=en-US\")\n// \t\t\t.then(response => response.json())\n// \t\t\t.then(function(data){\n// \t\t\t\tgenreList = data[\"genres\"];\n// \t\t\t});\n// \t\tthis.genres = genreList;\n// \t}\n\n// \tonChangeSearchValue(e) {\n// \t\tthis.setState ({\n// \t\t\tsearch_value: e.target.value\n// \t\t});\n// \t}\n\n// \tasync onSubmit(e) {\n// \t\te.preventDefault();\n\n// \t\tvar searchList = [];\n// \t\tvar searchValue = this.state.search_value\n\n// \t\tconsole.log(`Search Made for: ${searchValue}`);\n\n// \t\tawait fetch(\"https://api.themoviedb.org/3/search/movie?api_key=\" + apikey + \"&language=en-US&query=\" + searchValue + \" &page=\"+ 1 + \"&include_adult=false\")\n// \t\t\t.then(response=>response.json())\n// \t\t\t.then(function(data) {\n// \t\t\t\tif(data[\"status_code\"]) {\n// \t\t\t\t\talert(\"error\");\n// \t\t\t\t}\n// \t\t\t\telse\n// \t\t\t\t{\n// \t\t\t\t\tsearchList = data.results;\n// \t\t\t\t}\n// \t\t});\n\n// \t\tthis.setState({\n// \t\t\tsearch_value: '',\n// \t\t\tsearch_results: searchList,\n// \t\t});\n// \t}\n\n// \tgetMovieSearch() {\n// \t\tif (this.state.search_results.length === 0)\n// \t\t{\n// \t\t\treturn <div className=\"noResult mx-5\"><br/><p>No results Found</p></div>;\n// \t\t}\n// \t\telse\n// \t\t{\n// \t\t\tvar list = this.state.search_results.map(movieItem =>\n// \t\t\t<div key={movieItem.id} className=\"movieContent mx-5\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n// \t\t\t\t{(movieItem.poster_path!=null)?\n// \t\t\t\t\t(<div className='container-fluid movie-app'>\n// \t\t\t\t\t\t<div className='row d-flex align-items-center mt-4 mb-4'>\n// \t\t\t\t\t\t\t\t<Link to={'/moviePage'}>\n// \t\t\t\t\t\t\t\t\t<img src={\"https://image.tmdb.org/t/p/w185\"+movieItem.poster_path+\"\"} alt={movieItem.title}/>\n// \t\t\t\t\t\t\t\t\t<h3>{movieItem.title}</h3>\n// \t\t\t\t\t\t\t\t</Link>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t</div>):\n// \t\t\t\t\t(<div className=\"poster\"/>)\n// \t\t\t\t}\n// \t\t\t</div>);\n// \t\t\treturn list\n// \t\t}\t\n// \t}\n\n// \tasync moreInfo(e) {\n// \t\te.preventDefault();\n// \t\tconsole.log(`more info ${e.target.id}`);\n// \t\tawait fetch('https://api.themoviedb.org/3/movie/'+ e.target.id +'?api_key='+ apikey +'&language=en-US')\n// \t\t\t.then(response=>response.json())\n// \t\t\t.then(function(data) {\n// \t\t\t\tif(data[\"status_code\"]) {\n// \t\t\t\t\talert(\"error\" + data[\"status_code\"] + \": \" + data[\"status_message\"]);\n// \t\t\t\t}\n// \t\t\t\telse\n// \t\t\t\t{\n// \t\t\t\t\tconst newMovie = {\n// \t\t\t\t\t\t_id: data.id,\n// \t\t\t\t\t\ttitle: data.title,\n// \t\t\t\t\t\toverview: data.overview,\n// \t\t\t\t\t\tposter_path: data.poster_path,\n// \t\t\t\t\t\tgenres: data.genres,\n// \t\t\t\t\t};\n\n// \t\t\t\t\taxios.post('http://localhost:3000/moviePage', newMovie)\n// \t\t\t\t\t\t.then(res => console.log(res.data));\n// \t\t\t\t}\n// \t\t});\n// \t}\n\n// \trender() {\n// \t\treturn (\n// \t\t\t<div style={{padding:10}}>\n// \t\t\t\t<div className=\"searchbar mx-10\">\n// \t\t\t\t\t<form className=\"form-inline\" onSubmit={this.onSubmit}>\n// \t\t\t\t\t\t<h3 className=\"mt-2\">Search Movies:</h3>\n// \t\t\t\t\t\t<div className=\"form-group\">\n// \t\t\t\t\t\t\t<input\ttype=\"text\"\n// \t\t\t\t\t\t\t\t\tclassName=\"form-control mx-2\"\n// \t\t\t\t\t\t\t\t\tvalue={this.state.search_value}\n// \t\t\t\t\t\t\t\t\tonChange={this.onChangeSearchValue}\n// \t\t\t\t\t\t\t\t\t/>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t\t<div className=\"form-group\">\n// \t\t\t\t\t\t\t<label><button type=\"submit\" className=\"btn btn-primary\" >Search</button></label>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t\t</form>\n// \t\t\t\t</div>\n// \t\t\t\t<hr className=\"myHR\"/>\n// \t\t\t\t<br/>\n// \t\t\t\t<Grid container rowSpacing={1} columnSpacing={1} justifyContent=\"space-evenly\" alignItems=\"flex-start\">\n// \t\t\t\t\t{this.getMovieSearch()}\n// \t\t\t\t</Grid>\n// \t\t\t\t<br/><br/><br/>\n// \t\t\t</div>\n\n// \t\t);\n// \t}\n// }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Movies from './search/movies';\nimport { search } from './utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Search extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      movies: null,\n      loading: false,\n      value: ''\n    };\n    this.search = async val => {\n      this.setState({\n        loading: true\n      });\n      const res = await axios(`https://api.themoviedb.org/3/search/movie?query=${val}&api_key=dbc0a6d62448554c27b6167ef7dabb1b`);\n      const movies = await res.data.results;\n      this.setState({\n        movies,\n        loading: false\n      });\n    };\n    this.onChangeHandler = async e => {\n      this.search(e.target.value);\n      this.setState({\n        value: e.target.value\n      });\n    };\n  }\n  get renderMovies() {\n    let movies = /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"There's no movies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 18\n    }, this);\n    if (this.state.movies) {\n      movies = /*#__PURE__*/_jsxDEV(Movies, {\n        list: this.state.movies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 16\n      }, this);\n    }\n    return movies;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: this.state.value,\n        onChange: e => this.onChangeHandler(e),\n        placeholder: \"Type something to search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), this.renderMovies]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Search;","map":{"version":3,"names":["React","Component","axios","Movies","search","jsxDEV","_jsxDEV","Search","constructor","arguments","state","movies","loading","value","val","setState","res","data","results","onChangeHandler","e","target","renderMovies","children","fileName","_jsxFileName","lineNumber","columnNumber","list","render","onChange","placeholder"],"sources":["/Users/allisonchen/Desktop/filmdiary/client/src/components/search/search.js"],"sourcesContent":["// import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\n// import axios from 'axios';\n// import { Grid } from \"@material-ui/core\";\n\n// const apikey = \"37e7a5cb2b4f66257a0b6632a59060a5\";\n\n// export default class Search extends Component {\n\n// \tconstructor(props) {\n// \t\tsuper(props);\n\n// \t\tthis.onChangeSearchValue = this.onChangeSearchValue.bind(this);\n// \t\tthis.onSubmit = this.onSubmit.bind(this);\n// \t\tthis.getMovieSearch = this.getMovieSearch.bind(this);\n// \t\tthis.moreInfo = this.moreInfo.bind(this);\n// \t\tthis.getGenres = this.getGenres.bind(this);\n\n// \t\tthis.state = {\n// \t\t\tsearch_value: '',\n// \t\t\tsearch_results: [],\n// \t\t}\n// \t}\n\n// \tgenres;\n\n// \tasync getGenres() {\n// \t\tvar genreList = [];\n// \t\tawait fetch(\"https://api.themoviedb.org/3/genre/movie/list?api_key=\"+ apikey +\"&language=en-US\")\n// \t\t\t.then(response => response.json())\n// \t\t\t.then(function(data){\n// \t\t\t\tgenreList = data[\"genres\"];\n// \t\t\t});\n// \t\tthis.genres = genreList;\n// \t}\n\n// \tonChangeSearchValue(e) {\n// \t\tthis.setState ({\n// \t\t\tsearch_value: e.target.value\n// \t\t});\n// \t}\n\n// \tasync onSubmit(e) {\n// \t\te.preventDefault();\n\n// \t\tvar searchList = [];\n// \t\tvar searchValue = this.state.search_value\n\n// \t\tconsole.log(`Search Made for: ${searchValue}`);\n\n// \t\tawait fetch(\"https://api.themoviedb.org/3/search/movie?api_key=\" + apikey + \"&language=en-US&query=\" + searchValue + \" &page=\"+ 1 + \"&include_adult=false\")\n// \t\t\t.then(response=>response.json())\n// \t\t\t.then(function(data) {\n// \t\t\t\tif(data[\"status_code\"]) {\n// \t\t\t\t\talert(\"error\");\n// \t\t\t\t}\n// \t\t\t\telse\n// \t\t\t\t{\n// \t\t\t\t\tsearchList = data.results;\n// \t\t\t\t}\n// \t\t});\n\n// \t\tthis.setState({\n// \t\t\tsearch_value: '',\n// \t\t\tsearch_results: searchList,\n// \t\t});\n// \t}\n\n// \tgetMovieSearch() {\n// \t\tif (this.state.search_results.length === 0)\n// \t\t{\n// \t\t\treturn <div className=\"noResult mx-5\"><br/><p>No results Found</p></div>;\n// \t\t}\n// \t\telse\n// \t\t{\n// \t\t\tvar list = this.state.search_results.map(movieItem =>\n// \t\t\t<div key={movieItem.id} className=\"movieContent mx-5\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n// \t\t\t\t{(movieItem.poster_path!=null)?\n// \t\t\t\t\t(<div className='container-fluid movie-app'>\n// \t\t\t\t\t\t<div className='row d-flex align-items-center mt-4 mb-4'>\n// \t\t\t\t\t\t\t\t<Link to={'/moviePage'}>\n// \t\t\t\t\t\t\t\t\t<img src={\"https://image.tmdb.org/t/p/w185\"+movieItem.poster_path+\"\"} alt={movieItem.title}/>\n// \t\t\t\t\t\t\t\t\t<h3>{movieItem.title}</h3>\n// \t\t\t\t\t\t\t\t</Link>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t</div>):\n// \t\t\t\t\t(<div className=\"poster\"/>)\n// \t\t\t\t}\n// \t\t\t</div>);\n// \t\t\treturn list\n// \t\t}\t\n// \t}\n\n\n// \tasync moreInfo(e) {\n// \t\te.preventDefault();\n// \t\tconsole.log(`more info ${e.target.id}`);\n// \t\tawait fetch('https://api.themoviedb.org/3/movie/'+ e.target.id +'?api_key='+ apikey +'&language=en-US')\n// \t\t\t.then(response=>response.json())\n// \t\t\t.then(function(data) {\n// \t\t\t\tif(data[\"status_code\"]) {\n// \t\t\t\t\talert(\"error\" + data[\"status_code\"] + \": \" + data[\"status_message\"]);\n// \t\t\t\t}\n// \t\t\t\telse\n// \t\t\t\t{\n// \t\t\t\t\tconst newMovie = {\n// \t\t\t\t\t\t_id: data.id,\n// \t\t\t\t\t\ttitle: data.title,\n// \t\t\t\t\t\toverview: data.overview,\n// \t\t\t\t\t\tposter_path: data.poster_path,\n// \t\t\t\t\t\tgenres: data.genres,\n// \t\t\t\t\t};\n\n// \t\t\t\t\taxios.post('http://localhost:3000/moviePage', newMovie)\n// \t\t\t\t\t\t.then(res => console.log(res.data));\n// \t\t\t\t}\n// \t\t});\n// \t}\n\n// \trender() {\n// \t\treturn (\n// \t\t\t<div style={{padding:10}}>\n// \t\t\t\t<div className=\"searchbar mx-10\">\n// \t\t\t\t\t<form className=\"form-inline\" onSubmit={this.onSubmit}>\n// \t\t\t\t\t\t<h3 className=\"mt-2\">Search Movies:</h3>\n// \t\t\t\t\t\t<div className=\"form-group\">\n// \t\t\t\t\t\t\t<input\ttype=\"text\"\n// \t\t\t\t\t\t\t\t\tclassName=\"form-control mx-2\"\n// \t\t\t\t\t\t\t\t\tvalue={this.state.search_value}\n// \t\t\t\t\t\t\t\t\tonChange={this.onChangeSearchValue}\n// \t\t\t\t\t\t\t\t\t/>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t\t<div className=\"form-group\">\n// \t\t\t\t\t\t\t<label><button type=\"submit\" className=\"btn btn-primary\" >Search</button></label>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t\t</form>\n// \t\t\t\t</div>\n// \t\t\t\t<hr className=\"myHR\"/>\n// \t\t\t\t<br/>\n// \t\t\t\t<Grid container rowSpacing={1} columnSpacing={1} justifyContent=\"space-evenly\" alignItems=\"flex-start\">\n// \t\t\t\t\t{this.getMovieSearch()}\n// \t\t\t\t</Grid>\n// \t\t\t\t<br/><br/><br/>\n// \t\t\t</div>\n\n// \t\t);\n// \t}\n// }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nimport Movies from './search/movies';\nimport { search } from './utils';\n\nclass Search extends Component {\n  state = {\n    movies: null,\n    loading: false,\n    value: ''\n  };\n\n  search = async val => {\n    this.setState({ loading: true });\n    const res = await axios(\n      `https://api.themoviedb.org/3/search/movie?query=${val}&api_key=dbc0a6d62448554c27b6167ef7dabb1b`\n    );\n    const movies = await res.data.results;\n\n    this.setState({ movies, loading: false });\n  };\n\n  onChangeHandler = async e => {\n    this.search(e.target.value);\n    this.setState({ value: e.target.value });\n  };\n\n  get renderMovies() {\n    let movies = <h1>There's no movies</h1>;\n    if (this.state.movies) {\n      movies = <Movies list={this.state.movies} />;\n    }\n\n    return movies;\n  }\n\n  render() {\n    return (\n      <div>\n        <input\n          value={this.state.value}\n          onChange={e => this.onChangeHandler(e)}\n          placeholder=\"Type something to search\"\n        />\n        {this.renderMovies}\n      </div>\n    );\n  }\n}\n\nexport default Search;"],"mappings":";AAAA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAOC,MAAM,MAAM,iBAAiB;AACpC,SAASC,MAAM,QAAQ,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,MAAM,SAASN,SAAS,CAAC;EAAAO,YAAA;IAAA,SAAAC,SAAA;IAAA,KAC7BC,KAAK,GAAG;MACNC,MAAM,EAAE,IAAI;MACZC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAC;IAAA,KAEDT,MAAM,GAAG,MAAMU,GAAG,IAAI;MACpB,IAAI,CAACC,QAAQ,CAAC;QAAEH,OAAO,EAAE;MAAK,CAAC,CAAC;MAChC,MAAMI,GAAG,GAAG,MAAMd,KAAK,CACpB,mDAAkDY,GAAI,2CAA0C,CAClG;MACD,MAAMH,MAAM,GAAG,MAAMK,GAAG,CAACC,IAAI,CAACC,OAAO;MAErC,IAAI,CAACH,QAAQ,CAAC;QAAEJ,MAAM;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;IAC3C,CAAC;IAAA,KAEDO,eAAe,GAAG,MAAMC,CAAC,IAAI;MAC3B,IAAI,CAAChB,MAAM,CAACgB,CAAC,CAACC,MAAM,CAACR,KAAK,CAAC;MAC3B,IAAI,CAACE,QAAQ,CAAC;QAAEF,KAAK,EAAEO,CAAC,CAACC,MAAM,CAACR;MAAM,CAAC,CAAC;IAC1C,CAAC;EAAA;EAED,IAAIS,YAAYA,CAAA,EAAG;IACjB,IAAIX,MAAM,gBAAGL,OAAA;MAAAiB,QAAA,EAAI;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK;IACvC,IAAI,IAAI,CAACjB,KAAK,CAACC,MAAM,EAAE;MACrBA,MAAM,gBAAGL,OAAA,CAACH,MAAM;QAACyB,IAAI,EAAE,IAAI,CAAClB,KAAK,CAACC;MAAO;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG;IAC9C;IAEA,OAAOhB,MAAM;EACf;EAEAkB,MAAMA,CAAA,EAAG;IACP,oBACEvB,OAAA;MAAAiB,QAAA,gBACEjB,OAAA;QACEO,KAAK,EAAE,IAAI,CAACH,KAAK,CAACG,KAAM;QACxBiB,QAAQ,EAAEV,CAAC,IAAI,IAAI,CAACD,eAAe,CAACC,CAAC,CAAE;QACvCW,WAAW,EAAC;MAA0B;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACtC,EACD,IAAI,CAACL,YAAY;IAAA;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACd;EAEV;AACF;AAEA,eAAepB,MAAM"},"metadata":{},"sourceType":"module"}